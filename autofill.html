<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const textarea = document.getElementById('textarea');
        const form = document.getElementById('form');

        textarea.addEventListener('paste', async (event) => {
            event.preventDefault();

            // Clear all input fields in the form
            Array.from(form.elements).forEach(input => {
                if (input.tagName === 'INPUT') {
                    input.value = '';
                }
            });

            const pastedData = (event.clipboardData || window.clipboardData).getData('text');

            try {
                const jsonData = JSON.parse(pastedData);
                
                // Populate form fields with parsed JSON data
                for (const [key, value] of Object.entries(jsonData)) {
                    const input = form.querySelector(`[name="${key}"]`);
                    if (input) {
                        // Convert postal code to uppercase
                        if (key === 'postal-code') {
                            input.value = value.toUpperCase();
                        } else {
                            input.value = value;
                        }
                    }
                }
            } catch (error) {
                console.error('Invalid JSON data:', error);
                alert('Please paste valid JSON data.');
            }
        });

        // Add keyboard shortcut for form submission
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey && event.shiftKey && event.altKey && event.key === 'F12') {
                event.preventDefault();
                form.submit();
            }
        });
    });
    </script>
</head>
<body>
    <form id="form" action="" method="GET">
        <textarea id="textarea" placeholder="Paste JSON data here..." autofocus></textarea><br><br>

        <fieldset>
            <input type="text" name="cc-name" autocomplete="cc-name" placeholder="cc-name" required><br><br>
            <input type="text" name="cc-number" autocomplete="cc-number" placeholder="cc-number" required><br><br>
            <input type="text" name="cc-exp" autocomplete="cc-exp" placeholder="cc-exp" required><br><br>
            <input type="text" name="cc-csc" autocomplete="cc-csc" placeholder="cc-csc" required><br><br>
            <input type="text" name="name" autocomplete="name" placeholder="name" required><br><br>
            <input type="text" name="country" autocomplete="country" placeholder="country"><br><br>
            <input type="text" name="street-address" autocomplete="street-address" placeholder="street-address" required><br><br>
            <input type="text" name="address-level1" autocomplete="address-level1" placeholder="address-level1" required><br><br>
            <input type="text" name="address-level2" autocomplete="address-level2" placeholder="address-level2" required><br><br>
            <input type="text" name="postal-code" autocomplete="postal-code" placeholder="postal-code" required><br><br>
            <input type="tel" name="tel" autocomplete="tel" placeholder="tel" required><br><br>
            <input type="email" name="email" autocomplete="email" placeholder="email" required>
        </fieldset><br>
        
        <button type="submit">Submit</button>
    </form>
</body>
</html>
