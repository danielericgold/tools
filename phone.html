<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phone Number Generator</title>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('form');
            const cityInput = document.getElementById('city');
            const stateInput = document.getElementById('state');
            const phoneInput = document.getElementById('phone');
            const generateButton = document.getElementById('generate');

            // Function to generate random digits for the phone number
            function getRandomPhoneDigits() {
                return Math.floor(1000000 + Math.random() * 9000000); // 7 random digits
            }

            // Function to fetch area code based on city and state
            async function getAreaCode(city, state) {
                const url = `https://api.zippopotam.us/us/${state}/${city}`;

                try {
                    const response = await fetch(url);
                    if (response.ok) {
                        const data = await response.json();
                        // Returning the first area code (if multiple found)
                        return data['places'][0]['post code'].substring(0, 3); // Mimicking an area code
                    } else {
                        console.error('Failed to fetch area code');
                        return null;
                    }
                } catch (error) {
                    console.error('Error fetching area code:', error);
                    return null;
                }
            }

            // Event listener for the Generate Phone button
            generateButton.addEventListener('click', async (event) => {
                event.preventDefault();

                const city = cityInput.value.trim();
                const state = stateInput.value.trim();

                if (city && state) {
                    const areaCode = await getAreaCode(city, state);
                    if (areaCode) {
                        const randomDigits = getRandomPhoneDigits();
                        phoneInput.value = `${areaCode}-${randomDigits}`;
                    } else {
                        phoneInput.value = 'Area code not found';
                    }
                } else {
                    phoneInput.value = 'Please enter both city and state';
                }
            });
        });
    </script>
</head>
<body>
    <h2>Phone Number Generator</h2>
    <form id="form">
        <label for="city">City:</label><br>
        <input type="text" id="city" name="city" required><br><br>

        <label for="state">State:</label><br>
        <input type="text" id="state" name="state" required><br><br>

        <button id="generate" type="submit">Generate Phone Number</button><br><br>

        <label for="phone">Generated Phone Number:</label><br>
        <input type="text" id="phone" name="phone" readonly><br><br>
    </form>
</body>
</html>
